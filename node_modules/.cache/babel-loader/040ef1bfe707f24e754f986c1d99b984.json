{"remainingRequest":"/Users/charles/Documents/Vue/pharmacy-map/node_modules/babel-loader/lib/index.js!/Users/charles/Documents/Vue/pharmacy-map/node_modules/eslint-loader/index.js??ref--13-0!/Users/charles/Documents/Vue/pharmacy-map/src/store/index.js","dependencies":[{"path":"/Users/charles/Documents/Vue/pharmacy-map/src/store/index.js","mtime":1581439155703},{"path":"/Users/charles/Documents/Vue/pharmacy-map/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/charles/Documents/Vue/pharmacy-map/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/charles/Documents/Vue/pharmacy-map/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgcGhhcm1hY2llczogW10sCiAgICBsb2FjYXRpb25zOiBbXSwKICAgIHpvbmVzOiBbXQogIH0sCiAgYWN0aW9uczogewogICAgdXBkYXRlTG9hZGluZzogZnVuY3Rpb24gdXBkYXRlTG9hZGluZyhjb250ZXh0LCBzdGF0dXMpIHsKICAgICAgY29udGV4dC5jb21taXQoJ0xPQURJTkcnLCBzdGF0dXMpOyAvLyDln7fooYwgbXV0YXRpb25zIOWFp+eahCBMT0FESU5HIOimgeeUqCBjb250ZXh0LmNvbW1pdAogICAgfSwKICAgIGdldFBoYXJtYWN5OiBmdW5jdGlvbiBnZXRQaGFybWFjeShjb250ZXh0KSB7CiAgICAgIHZhciBhcGkgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2tpYW5nL3BoYXJtYWNpZXMvbWFzdGVyL2pzb24vcG9pbnRzLmpzb24nOyAvLyBmZXRjaChhcGkpLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkKICAgICAgLy8gICAudGhlbigoZGF0YSkgPT4gewogICAgICAvLyAgICAgY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgIC8vICAgICBjb250ZXh0LmNvbW1pdCgnUEhBUk1BQ1knLCBkYXRhKTsKICAgICAgLy8gfSk7CgogICAgICBjb250ZXh0LmNvbW1pdCgnTE9BRElORycsIHRydWUpOwogICAgICBheGlvcy5nZXQoYXBpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygnZGF0YScsIHJlcy5kYXRhLmZlYXR1cmVzKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnUEhBUk1BQ1knLCByZXMuZGF0YS5mZWF0dXJlcyk7IC8vIGNvbnRleHQuY29tbWl0KCdMT0NBVElPTlMnLCByZXMuZGF0YS5mZWF0dXJlcyk7CiAgICAgICAgLy8gY29udGV4dC5jb21taXQoJ1pPTkVTJywgcmVzLmRhdGEuZmVhdHVyZXMpOwoKICAgICAgICBjb250ZXh0LmNvbW1pdCgnTE9BRElORycsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIExPQURJTkc6IGZ1bmN0aW9uIExPQURJTkcoc3RhdGUsIHN0YXR1cykgewogICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBzdGF0dXM7CiAgICB9LAogICAgUEhBUk1BQ1k6IGZ1bmN0aW9uIFBIQVJNQUNZKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnBoYXJtYWNpZXMgPSBwYXlsb2FkOwogICAgfSAvLyBMT0NBVElPTlMoc3RhdGUsIHBheWxvYWQpIHsKICAgIC8vIGNvbnN0IGNpdHlBcnJheSA9IHBheWxvYWQubWFwKCh2YWx1ZSkgPT4gdmFsdWUucHJvcGVydGllcy5hZGRyZXNzLnN1YnN0cigwLCAzKSk7CiAgICAvLyBzdGF0ZS5sb2NhdGlvbnMgPSBjaXR5QXJyYXkuZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIGFycikgPT4gYXJyLmluZGV4T2YodmFsdWUpID09PSBpbmRleCk7CiAgICAvLyAgIGNvbnN0IGNpdHkgPSBuZXcgU2V0KCk7CiAgICAvLyAgIHBheWxvYWQuZm9yRWFjaCgodmFsdWUpID0+IHsKICAgIC8vICAgICBjaXR5LmFkZCh2YWx1ZS5wcm9wZXJ0aWVzLmFkZHJlc3Muc3Vic3RyKDAsIDMpKTsKICAgIC8vICAgfSk7CiAgICAvLyAgIHN0YXRlLmxvY2F0aW9ucyA9IEFycmF5LmZyb20oY2l0eSk7CiAgICAvLyAgIGNvbnNvbGUubG9nKCdsb2NhdGlvbnMnLCBzdGF0ZS5sb2NhdGlvbnMpOwogICAgLy8gfSwKICAgIC8vIFpPTkVTKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAvLyAgIGNvbnN0IHpvbmUgPSBuZXcgU2V0KCk7CiAgICAvLyAgIHBheWxvYWQuZm9yRWFjaCgodmFsdWUpID0+IHsKICAgIC8vICAgICB6b25lLmFkZCh2YWx1ZS5wcm9wZXJ0aWVzLmFkZHJlc3Muc3Vic3RyKDMsIDMpKTsKICAgIC8vICAgfSk7CiAgICAvLyAgIHN0YXRlLnpvbmVzID0gQXJyYXkuZnJvbSh6b25lKTsKICAgIC8vICAgY29uc29sZS5sb2coJ3pvbmVzJywgc3RhdGUuem9uZXMpOwogICAgLy8gfSwKCiAgfQp9KTs="},{"version":3,"sources":["/Users/charles/Documents/Vue/pharmacy-map/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","isLoading","pharmacies","loacations","zones","actions","updateLoading","context","status","commit","getPharmacy","api","get","then","res","data","features","mutations","LOADING","PHARMACY","payload"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,KADN;AAELC,IAAAA,UAAU,EAAE,EAFP;AAGLC,IAAAA,UAAU,EAAE,EAHP;AAILC,IAAAA,KAAK,EAAE;AAJF,GADqB;AAO5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,aADO,yBACOC,OADP,EACgBC,MADhB,EACwB;AAC7BD,MAAAA,OAAO,CAACE,MAAR,CAAe,SAAf,EAA0BD,MAA1B,EAD6B,CACM;AACpC,KAHM;AAIPE,IAAAA,WAJO,uBAIKH,OAJL,EAIc;AACnB,UAAMI,GAAG,GAAG,4EAAZ,CADmB,CAEnB;AACA;AACA;AACA;AACA;;AACAJ,MAAAA,OAAO,CAACE,MAAR,CAAe,SAAf,EAA0B,IAA1B;AACAZ,MAAAA,KAAK,CAACe,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoB,UAACC,GAAD,EAAS;AAC3B;AACAP,QAAAA,OAAO,CAACE,MAAR,CAAe,UAAf,EAA2BK,GAAG,CAACC,IAAJ,CAASC,QAApC,EAF2B,CAG3B;AACA;;AACAT,QAAAA,OAAO,CAACE,MAAR,CAAe,SAAf,EAA0B,KAA1B;AACD,OAND;AAOD;AAnBM,GAPmB;AA4B5BQ,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACDlB,KADC,EACMQ,MADN,EACc;AACrBR,MAAAA,KAAK,CAACC,SAAN,GAAkBO,MAAlB;AACD,KAHQ;AAITW,IAAAA,QAJS,oBAIAnB,KAJA,EAIOoB,OAJP,EAIgB;AACvBpB,MAAAA,KAAK,CAACE,UAAN,GAAmBkB,OAAnB;AACD,KANQ,CAOT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAxBS;AA5BiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    isLoading: false,\n    pharmacies: [],\n    loacations: [],\n    zones: [],\n  },\n  actions: {\n    updateLoading(context, status) {\n      context.commit('LOADING', status); // 執行 mutations 內的 LOADING 要用 context.commit\n    },\n    getPharmacy(context) {\n      const api = 'https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json';\n      // fetch(api).then((res) => res.json())\n      //   .then((data) => {\n      //     console.log('data', data); // eslint-disable-line no-console\n      //     context.commit('PHARMACY', data);\n      // });\n      context.commit('LOADING', true);\n      axios.get(api).then((res) => {\n        // console.log('data', res.data.features);\n        context.commit('PHARMACY', res.data.features);\n        // context.commit('LOCATIONS', res.data.features);\n        // context.commit('ZONES', res.data.features);\n        context.commit('LOADING', false);\n      });\n    },\n  },\n  mutations: {\n    LOADING(state, status) {\n      state.isLoading = status;\n    },\n    PHARMACY(state, payload) {\n      state.pharmacies = payload;\n    },\n    // LOCATIONS(state, payload) {\n    // const cityArray = payload.map((value) => value.properties.address.substr(0, 3));\n    // state.locations = cityArray.filter((value, index, arr) => arr.indexOf(value) === index);\n    //   const city = new Set();\n    //   payload.forEach((value) => {\n    //     city.add(value.properties.address.substr(0, 3));\n    //   });\n    //   state.locations = Array.from(city);\n    //   console.log('locations', state.locations);\n    // },\n    // ZONES(state, payload) {\n    //   const zone = new Set();\n    //   payload.forEach((value) => {\n    //     zone.add(value.properties.address.substr(3, 3));\n    //   });\n    //   state.zones = Array.from(zone);\n    //   console.log('zones', state.zones);\n    // },\n  },\n});\n"]}]}